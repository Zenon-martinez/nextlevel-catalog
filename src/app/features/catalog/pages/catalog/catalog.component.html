<div class="p-6">
  <h1 class="text-2xl font-semibold mb-4">Catálogo de Productos</h1>

  <!-- Filtros globales -->
  <div class="flex flex-wrap gap-4 mb-6">
    <input
      pInputText
      type="text"
      placeholder="Buscar por descripción"
      class="w-64"
      [(ngModel)]="filtroTexto"
      (input)="aplicarFiltros()"
      (close)="filtroTexto = ''; aplicarFiltros()"
    />

    <p-dropdown
      [options]="marcasDisponibles"
      placeholder="Filtrar por marca"
      [showClear]="true"
      [(ngModel)]="marcaSeleccionada"
      (ngModelChange)="aplicarFiltros()"
    >
    </p-dropdown>
  </div>

  <!-- Tabs -->
  <p-tabView>
    @for(categoria of categorias; track $index) {
    <p-tabPanel [header]="categoria.label">
      <app-tabla-productos
        [productos]="productosPorCategoria(categoria.key)"
        [filtroTexto]="filtroTexto"
        [marca]="marcaSeleccionada"
      >
      </app-tabla-productos>
    </p-tabPanel>
    }
  </p-tabView>
</div>
